<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Game Details | Flamepass</title>
	<link rel="icon" type="icon/x-icon" href="/assets/favicon.ico" />

	<!-- Meta tags for SEO -->
	<meta name="description"
		content="Play games online with Flamepass, the next gen proxy. No downloads required, works directly in your browser." />
	<meta name="keywords" content="Games, Online Games, Free Games, Browser Games, Flamepass" />
	<meta property="og:image" content="/assets/logo.webp" />
	<meta property="og:title" content="Play Online Games | Flamepass" />
	<link rel="canonical" href="/game/" />

	<!-- Font imports -->
	<link rel="preload" as="style"
		href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />

	<!-- Icon libraries -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />

	<!-- Core stylesheets -->
	<link rel="stylesheet" href="/css/index.css" />
	<link rel="stylesheet" href="/css/themes.css" />
	<link rel="stylesheet" href="/css/common.css" />
	<link rel="stylesheet" href="/css/game-page.css" />

	<!-- Google Analytics -->
	<meta name="google-adsense-account" content="ca-pub-3747175608041884" />
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-SPVQHBL4J1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'G-SPVQHBL4J1');
	</script>
</head>

<body>
	<!-- Navigation Sidebar -->
	<nav class="navbar">
		<div class="navbar-top">
			<a href="/" class="logo-link">
				<img class="logo" src="/assets/logo.webp" alt="Flamepass Logo" />
			</a>
			<hr class="nav-divider" />
			<a href="/" title="Home" class="nav-item">
				<span class="material-symbols-outlined">cottage</span>
			</a>
			<a href="/&.html" title="Search" class="nav-item">
				<span class="material-symbols-outlined">public</span>
			</a>
		</div>

		<div class="navbar-middle">
			<hr class="nav-divider" />
			<a href="/a.html" title="Apps" class="nav-item">
				<span class="material-symbols-outlined">apps</span>
			</a>
			<a href="/g.html" title="Games" class="nav-item active">
				<span class="material-symbols-outlined">joystick</span>
			</a>
			<a href="/downloadable-games.html" title="Downloadable Games" class="nav-item">
				<span class="material-symbols-outlined">download</span>
			</a>
			<hr class="nav-divider" />
			<a href="/ultimate-links.html" title="Ultimate Link List" class="nav-item">
				<span class="material-symbols-outlined">list</span>
			</a>
			<a href="/links.html" title="Link Generator" class="nav-item">
				<span class="material-symbols-outlined">link</span>
			</a>
			<hr class="nav-divider" />
			<a href="/guides.html" title="Guides and Methods" class="nav-item">
				<span class="material-symbols-outlined">help_outline</span>
			</a>
			<a href="/yt-channels.html" title="Unblocker YouTube Channels" class="nav-item">
				<span class="material-symbols-outlined">play_circle</span>
			</a>
			<hr class="nav-divider" />
			<a href="/ai.html" title="AI Chat" class="nav-item">
				<span class="material-symbols-outlined">smart_toy</span>
			</a>
		</div>

		<div class="navbar-bottom">
			<hr class="nav-divider" />
			<a href="/~.html" title="Settings" class="nav-item">
				<span class="material-symbols-outlined">tune</span>
			</a>
			<a target="_blank" href="https://discord.com/invite/gVaXCTqJDq" title="Discord Server" class="nav-item">
				<i class="fab fa-discord"></i>
			</a>
		</div>
	</nav>

	<!-- Main Content -->
	<main class="main-content">
		<!-- Search button (top right corner) -->
		<button class="search-trigger" id="searchTrigger">
			<span class="material-symbols-outlined">search</span>
			<span class="search-text">Search games...</span>
			<span class="keyboard-shortcut">⌘K</span>
		</button>

		<!-- Game Container -->
		<div id="game-container" class="game-container">
			<!-- Loading animation (will be replaced by game content) -->
			<div class="loading-container">
				<div class="loader">
					<svg viewBox="0 0 80 80">
						<circle cx="40" cy="40" r="32" class="loader-circle" />
					</svg>
				</div>
				<p class="loading-text">Loading game information...</p>
			</div>
		</div>

		<!-- Categories Section -->
		<section class="categories-section">
			<div class="section-header">
				<h2>Explore More Categories</h2>
				<a href="/g.html" class="view-all-link">View all <span
						class="material-symbols-outlined">arrow_forward</span></a>
			</div>

			<div class="categories-grid">
				<a href="/g.html?category=action" class="category-card">
					<div class="category-icon">
						<span class="material-symbols-outlined">sports_score</span>
					</div>
					<h3>Action</h3>
					<span class="game-count">128 Games</span>
				</a>

				<a href="/g.html?category=adventure" class="category-card">
					<div class="category-icon">
						<span class="material-symbols-outlined">hiking</span>
					</div>
					<h3>Adventure</h3>
					<span class="game-count">94 Games</span>
				</a>

				<a href="/g.html?category=racing" class="category-card">
					<div class="category-icon">
						<span class="material-symbols-outlined">directions_car</span>
					</div>
					<h3>Racing</h3>
					<span class="game-count">52 Games</span>
				</a>

				<a href="/g.html?category=strategy" class="category-card">
					<div class="category-icon">
						<span class="material-symbols-outlined">psychology</span>
					</div>
					<h3>Strategy</h3>
					<span class="game-count">76 Games</span>
				</a>
			</div>
		</section>

		<!-- Trending Games (Added Section) -->
		<section class="trending-section">
			<div class="section-header">
				<h2>Trending Now</h2>
				<a href="/g.html?sort=trending" class="view-all-link">View all <span
						class="material-symbols-outlined">arrow_forward</span></a>
			</div>

			<div id="trending-games" class="games-grid">
				<!-- Will be populated by JS -->
			</div>
		</section>

		<!-- Footer -->
		<footer class="footer">
			<div class="footer-content">
				<div class="footer-logo">
					<img src="/assets/logo.webp" alt="Flamepass Logo" />
					<p>© 2023-2025 Flamepass</p>
				</div>
				<div class="footer-links">
					<a href="/terms.html">Terms of Service</a>
					<a href="/privacy.html">Privacy Policy</a>
					<a href="/about.html">About Us</a>
					<a href="https://discord.com/invite/gVaXCTqJDq" target="_blank">Discord</a>
				</div>
			</div>
		</footer>

		<!-- Scroll to top button -->
		<button class="scroll-top" id="scrollTopBtn">
			<span class="material-symbols-outlined">arrow_upward</span>
		</button>
	</main>

	<!-- Search Modal -->
	<div class="search-modal" id="searchModal">
		<div class="search-modal-content">
			<div class="search-header">
				<div class="search-input-container">
					<span class="material-symbols-outlined">search</span>
					<input type="text" id="searchInput" placeholder="Search for games..." autofocus />
					<button class="close-search" id="closeSearch">
						<span class="material-symbols-outlined">close</span>
					</button>
				</div>
				<div class="search-shortcuts">
					<span class="shortcut-item"><kbd>↑</kbd><kbd>↓</kbd> to navigate</span>
					<span class="shortcut-item"><kbd>↵</kbd> to select</span>
					<span class="shortcut-item"><kbd>Esc</kbd> to close</span>
				</div>
			</div>
			<div class="search-results" id="searchResults">
				<!-- Will be populated by JS -->
			</div>
		</div>
	</div>

	<!-- Background elements -->
	<div class="background-elements">
		<div class="blob"></div>
		<div class="blobbig"></div>
		<div class="blobsmall"></div>
		<div class="blobtop"></div>
		<div id="particles-js"></div>
	</div>

	<!-- Scripts -->
	<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
	<script src="/js/localforage.min.js"></script>
	<script src="/js/game-loader.js"></script>
	<script src="/js/themes.js"></script>
	<script src="/js/c.js"></script>
	<script src="/js/auth-controller.min.js"></script>
	<script>
		// Initialize particles.js
		particlesJS('particles-js', {
			particles: {
				number: { value: 80, density: { enable: true, value_area: 800 } },
				color: { value: '#ffffff' },
				shape: { type: 'circle' },
				opacity: { value: 0.5, random: true },
				size: { value: 3, random: true },
				line_linked: { enable: false },
				move: {
					enable: true,
					speed: 0.3,
					direction: 'top',
					random: true,
					straight: false,
					out_mode: 'out'
				}
			}
		});

		// Search modal functionality
		document.addEventListener('DOMContentLoaded', () => {
			const searchTrigger = document.getElementById('searchTrigger');
			const searchModal = document.getElementById('searchModal');
			const closeSearch = document.getElementById('closeSearch');
			const searchInput = document.getElementById('searchInput');
			const searchResults = document.getElementById('searchResults');

			// Open search modal
			searchTrigger.addEventListener('click', () => {
				searchModal.classList.add('active');
				setTimeout(() => {
					searchInput.focus();
				}, 100);
			});

			// Close search modal
			closeSearch.addEventListener('click', () => {
				searchModal.classList.remove('active');
			});

			// Close on escape key
			document.addEventListener('keydown', (e) => {
				if (e.key === 'Escape' && searchModal.classList.contains('active')) {
					searchModal.classList.remove('active');
				}

				// Open on Cmd+K or Ctrl+K
				if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
					e.preventDefault();
					searchModal.classList.add('active');
					setTimeout(() => {
						searchInput.focus();
					}, 100);
				}
			});

			// Click outside to close
			searchModal.addEventListener('click', (e) => {
				if (e.target === searchModal) {
					searchModal.classList.remove('active');
				}
			});

			// Search input handler
			searchInput.addEventListener('input', async () => {
				const query = searchInput.value.trim().toLowerCase();

				if (query.length < 2) {
					searchResults.innerHTML = `
            <div class="search-message">
              <span class="material-symbols-outlined">search</span>
              <p>Type at least 2 characters to search</p>
            </div>
          `;
					return;
				}

				try {
					// Try to get games from cache
					let allGames = [];

					if (window.cache && window.cache.games) {
						allGames = window.cache.games;
					} else {
						// Get from localStorage
						const cachedData = localStorage.getItem('cache_games');
						if (cachedData) {
							try {
								allGames = JSON.parse(cachedData).data;
							} catch (e) {
								console.warn('Error parsing cached game data');
							}
						}

						// Fallback to fetch
						if (!allGames || !allGames.length) {
							const response = await fetch('/json/g.json');
							allGames = await response.json();
						}
					}

					// Filter games based on query
					const filteredGames = allGames.filter(game =>
						game.name.toLowerCase().includes(query) ||
						(game.description && game.description.toLowerCase().includes(query)) ||
						(game.category && game.category.toLowerCase().includes(query)) ||
						(game.tags && game.tags.some(tag => tag.toLowerCase().includes(query)))
					);

					// Display results
					if (filteredGames.length === 0) {
						searchResults.innerHTML = `
              <div class="search-message">
                <span class="material-symbols-outlined">sentiment_dissatisfied</span>
                <p>No games found matching "${query}"</p>
              </div>
            `;
					} else {
						searchResults.innerHTML = '';

						filteredGames.slice(0, 8).forEach(game => {
							const resultItem = document.createElement('a');
							resultItem.href = `/game/${game.slug}`;
							resultItem.className = 'search-result-item';

							resultItem.innerHTML = `
                <div class="search-result-image">
                  <img src="${game.img}" alt="${game.name}" loading="lazy">
                </div>
                <div class="search-result-info">
                  <h3>${game.name}</h3>
                  <div class="search-result-meta">
                    <span class="category-pill">${game.category || 'Browser Game'}</span>
                    ${game.publisher ? `<span class="publisher">${game.publisher}</span>` : ''}
                  </div>
                </div>
              `;

							searchResults.appendChild(resultItem);
						});

						if (filteredGames.length > 8) {
							const viewAll = document.createElement('a');
							viewAll.href = `/g.html?search=${encodeURIComponent(query)}`;
							viewAll.className = 'view-all-results';
							viewAll.innerHTML = `View all ${filteredGames.length} results <span class="material-symbols-outlined">arrow_forward</span>`;
							searchResults.appendChild(viewAll);
						}
					}
				} catch (error) {
					console.error('Error during search:', error);
					searchResults.innerHTML = `
            <div class="search-message">
              <span class="material-symbols-outlined">error</span>
              <p>An error occurred while searching</p>
            </div>
          `;
				}
			});

			// Populate trending games
			const populateTrendingGames = async () => {
				const trendingContainer = document.getElementById('trending-games');
				if (!trendingContainer) return;

				try {
					// Try to get games from cache
					let allGames = [];

					if (window.cache && window.cache.games) {
						allGames = window.cache.games;
					} else {
						// Get from localStorage
						const cachedData = localStorage.getItem('cache_games');
						if (cachedData) {
							try {
								allGames = JSON.parse(cachedData).data;
							} catch (e) {
								console.warn('Error parsing cached game data');
							}
						}

						// Fallback to fetch
						if (!allGames || !allGames.length) {
							const response = await fetch('/json/g.json');
							allGames = await response.json();
						}
					}

					// Get 6 random games for trending
					const randomGames = getRandomGames(allGames, 6);

					trendingContainer.innerHTML = '';

					randomGames.forEach(game => {
						const gameCard = document.createElement('a');
						gameCard.href = `/game/${game.slug}`;
						gameCard.className = 'game-card';

						gameCard.innerHTML = `
              <div class="game-card-image">
                <img src="${game.img}" alt="${game.name}" loading="lazy">
                <div class="game-card-overlay">
                  <h3>${game.name}</h3>
                </div>
              </div>
              <div class="game-card-details">
                <span class="game-category">${game.category || 'Browser Game'}</span>
              </div>
            `;

						trendingContainer.appendChild(gameCard);
					});
				} catch (error) {
					console.error('Error loading trending games:', error);
				}
			};

			// Helper function to get random games
			function getRandomGames(games, count) {
				const shuffled = [...games].sort(() => 0.5 - Math.random());
				return shuffled.slice(0, count);
			}

			// Init scroll to top button
			const scrollTopBtn = document.getElementById('scrollTopBtn');
			window.addEventListener('scroll', () => {
				if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
					scrollTopBtn.classList.add('visible');
				} else {
					scrollTopBtn.classList.remove('visible');
				}
			});

			scrollTopBtn.addEventListener('click', () => {
				window.scrollTo({
					top: 0,
					behavior: 'smooth'
				});
			});

			// Initialize the page
			populateTrendingGames();
		});

		// Handle ads based on user preferences
		document.addEventListener('DOMContentLoaded', function () {
			let hideAds = localStorage.getItem('hideAds');

			if (hideAds === null || hideAds === 'false') {
				let script = document.createElement('script');
				script.type = 'text/javascript';
				script.src =
					'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3747175608041884';
				document.body.appendChild(script);
			}
		});
	</script>
</body>

</html>