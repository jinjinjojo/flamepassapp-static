<!doctype html>
<html lang="en">
	<head>
		<title>Downloadable Games - Flamepass</title>
		<link rel="icon" type="icon/x-icon" href="/assets/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta charset="UTF-8" />
		<meta
			name="description"
			content="Flamepass: The Ultimate School Dashboard with games, website proxies, tools, AI chat & more. Your all-in-one student resource hub.."
		/>
		<meta
			name="keywords"
			content="Proxy, Unblocker, Flamepass Unblocker, Flamepass"
		/>
		<meta property="og:image" content="/assets/logo.webp" />
		<!-- Google Analytics DO NOT REMOVE -->
		<meta name="google-adsense-account" content="ca-pub-3747175608041884" />
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=G-SPVQHBL4J1"
		></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			
			// Initialize particles.js
			particlesJS('particles-js', {
				particles: {
					number: {
						value: 86,
						density: {
							enable: true,
							value_area: 800
						}
					},
					color: {
						value: '#ffffff'
					},
					shape: {
						type: 'circle',
						stroke: {
							width: 0,
							color: '#000000'
						},
						polygon: {
							nb_sides: 5
						},
						image: {
							src: 'img/github.svg',
							width: 100,
							height: 100
						}
					},
					opacity: {
						value: 1,
						random: true,
						anim: {
							enable: false,
							speed: 1,
							opacity_min: 0.1,
							sync: false
						}
					},
					size: {
						value: 2,
						random: true,
						anim: {
							enable: false,
							speed: 40,
							size_min: 0.1,
							sync: false
						}
					},
					line_linked: {
						enable: false,
						distance: 150,
						color: '#ffffff',
						opacity: 0.4,
						width: 1
					},
					move: {
						enable: true,
						speed: 0.5,
						direction: 'top',
						random: false,
						straight: false,
						out_mode: 'out',
						bounce: false,
						attract: {
							enable: false,
							rotateX: 318.0130544358847,
							rotateY: 556.5228452627983
						}
					}
				},
				interactivity: {
					detect_on: 'window',
					events: {
						onhover: {
							enable: false,
							mode: 'repulse'
						},
						onclick: {
							enable: true,
							mode: 'push'
						},
						resize: true
					},
					modes: {
						grab: {
							distance: 400,
							line_linked: {
								opacity: 1
							}
						},
						bubble: {
							distance: 400,
							size: 40,
							duration: 2,
							opacity: 8,
							speed: 3
						},
						repulse: {
							distance: 200,
							duration: 0.4
						},
						push: {
							particles_nb: 10
						},
						remove: {
							particles_nb: 10
						}
					}
				},
				retina_detect: true
			});
			
			// Initialize the page
			document.addEventListener('DOMContentLoaded', () => {
				// Get games data
				const allGames = Object.values(gamesData).flat();
				
				// Get unique categories
				const categories = getUniqueCategories(allGames);
				
				// Create category sections (except "all" which already exists)
				categories.forEach(category => {
					if (category !== 'all') {
						const categoryGames = getGamesForCategory(allGames, category);
						if (categoryGames.length > 0) {
							createCategorySection(category, categoryGames);
						}
					}
				});
				
				// Initialize "All Games" section
				createGameCards(getAllUniqueGames(allGames), 'all-games');
				
				// Set up search functionality
				const searchInput = document.getElementById('search-games');
				const clearButton = document.getElementById('clear-search');
				
				// Search input event
				searchInput.addEventListener('input', () => {
					const searchText = searchInput.value.trim();
					
					// Show/hide clear button
					clearButton.classList.toggle('visible', searchText.length > 0);
					
					// Filter games
					filterGames(allGames, searchText);
				});
				
				// Clear search button
				clearButton.addEventListener('click', () => {
					searchInput.value = '';
					clearButton.classList.remove('visible');
					filterGames(allGames, '');
				});
				
				// Set up modal functionality
				const mobileModal = document.getElementById('mobile-warning-modal');
				const instructionsModal = document.getElementById('instructions-modal');
				const loginModal = document.getElementById('login-required-modal');
				
				// Close buttons for modals
				document.getElementById('close-mobile-modal').addEventListener('click', () => {
					hideModal('mobile-warning-modal');
				});
				
				document.getElementById('close-instructions-modal').addEventListener('click', () => {
					hideModal('instructions-modal');
				});
				
				document.getElementById('close-login-modal').addEventListener('click', () => {
					hideModal('login-required-modal');
				});
				
				// Buttons in modals
				document.getElementById('understand-mobile-button').addEventListener('click', () => {
					hideModal('mobile-warning-modal');
				});
				
				document.getElementById('got-it-button').addEventListener('click', () => {
					hideModal('instructions-modal');
				});
				
				// Close modals when clicking outside
				window.addEventListener('click', (e) => {
					if (e.target.classList.contains('modal-overlay')) {
						e.target.classList.remove('active');
					}
				});
				
				// Initialize Lucide icons
				if (typeof lucide !== 'undefined') {
					lucide.createIcons();
				}
				
				// Handle scroll to top button
				const scrollTop = document.querySelector('.scrolltop');
				scrollTop.addEventListener('click', () => {
					window.scrollTo({
						top: 0,
						behavior: 'smooth'
					});
				});
				
				// Show/hide scroll to top button
				window.addEventListener('scroll', () => {
					if (window.scrollY > 300) {
						scrollTop.style.display = 'flex';
					} else {
						scrollTop.style.display = 'none';
					}
				});
			});
			gtag('js', new Date());

			gtag('config', 'G-SPVQHBL4J1');
		</script>

		<link
			rel="preload"
			as="style"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
		/>
		<link
			rel="preload"
			as="style"
			href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
		/>
		<link rel="stylesheet" href="/css/index.css" />
		<link rel="stylesheet" href="/css/themes.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..400,0..1"
		/>
		<script src="https://unpkg.com/lucide@latest"></script>
		<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="/js/auth-controller.min.js"></script>
		<link rel="stylesheet" href="/css/common.css" />
		<style>
			/* Container styling to match YouTube channels page */
			.content-container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 100px 20px 50px 62px;
			}
			
			.page-title {
				text-align: center;
				color: white;
				font-size: 2.5rem;
				font-weight: 600;
				margin-bottom: 15px;
			}
			
			.page-description {
				text-align: center;
				color: rgba(255, 255, 255, 0.7);
				max-width: 800px;
				margin: 0 auto 20px;
				font-size: 1.1rem;
			}
			
			.search-container {
				max-width: 600px;
				margin: 0 auto 40px;
				position: relative;
			}
			
			.search-input {
				width: -webkit-fill-available;
				padding: 12px 20px;
				padding-right: 40px;
				background: rgba(46, 46, 46, 0.7);
				border: 1px solid #3a3a3a;
				border-radius: 30px;
				color: white;
				font-size: 1rem;
				transition: all 0.3s;
			}
			
			.search-input:focus {
				outline: none;
				border-color: #de5c34;
				box-shadow: 0 0 0 2px rgba(222, 92, 52, 0.3);
			}
			
			.search-clear {
				position: absolute;
				right: 15px;
				top: 50%;
				transform: translateY(-50%);
				color: rgba(255, 255, 255, 0.7);
				background: none;
				border: none;
				cursor: pointer;
				display: none;
			}
			
			.search-clear.visible {
				display: block;
			}
			
			.game-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
				gap: 20px;
			}
			
			.game-card {
				position: relative;
				border-radius: 12px;
				overflow: hidden;
				background-color: rgba(46, 46, 46, 0.7);
				transition: transform 0.3s, box-shadow 0.3s;
				aspect-ratio: 460 / 215;
				cursor: pointer;
				border: 1px solid #3a3a3a;
			}
			
			.game-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
				border-color: #de5c34;
			}
			
			.game-img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: filter 0.3s;
			}
			
			.game-card:hover .game-img {
				filter: brightness(0.7);
			}
			
			.game-overlay {
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
				padding: 15px;
				background: linear-gradient(transparent, rgb(0, 0, 0));
				color: white;
				opacity: 1;
				transition: opacity 0.3s;
			}
			
			.game-title {
				margin: 0;
				font-size: 1.2rem;
				font-weight: 600;
			}
			
			.game-size {
				font-size: 0.9rem;
				margin-top: 5px;
				opacity: 0.8;
			}
			
			.download-btn {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				background-color: #de5c34;
				color: white;
				border: none;
				border-radius: 25px;
				padding: 10px 20px;
				font-weight: 600;
				cursor: pointer;
				opacity: 0;
				transition: opacity 0.3s;
				box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
			}
			
			.game-card:hover .download-btn {
				opacity: 1;
			}
			
			.download-btn:hover {
				background-color: #ea6e47;
			}
			
			.category-title {
				color: white;
				margin-bottom: 25px;
				font-size: 1.5rem;
				font-weight: 600;
				position: relative;
				display: flex;
				align-items: center;
				margin-top: 50px;
			}
			
			.category-title::after {
				content: '';
				position: absolute;
				left: 0;
				bottom: -5px;
				width: 40px;
				height: 3px;
				background-color: #de5c34;
			}
			
			.category-icon {
				margin-right: 10px;
				color: #de5c34;
			}
			
			.no-results {
				text-align: center;
				color: white;
				padding: 50px;
				grid-column: 1 / -1;
				font-size: 1.2rem;
			}
			
			.hidden {
				display: none;
			}
			
			/* Modal Styles */
			.modal-overlay {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background-color: rgba(0, 0, 0, 0.7);
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 1000;
				opacity: 0;
				visibility: hidden;
				transition: all 0.3s ease;
			}
			
			.modal-overlay.active {
				opacity: 1;
				visibility: visible;
			}
			
			.modal {
				background-color: #1e1e1e;
				border-radius: 10px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
				padding: 30px;
				width: 90%;
				max-width: 450px;
				transform: translateY(-20px);
				transition: all 0.3s ease;
				position: relative;
				border: 1px solid rgba(255, 102, 0, 0.3);
			}
			
			.modal-overlay.active .modal {
				transform: translateY(0);
			}

			.modal-content {
				padding: 20px;
				color: rgba(255, 255, 255, 0.9);
			}
			
			.modal-header {
				text-align: center;
				margin-bottom: 25px;
			}
			
			.modal-header .login-logo {
				width: 80px;
				margin-bottom: 16px;
			}
			
			.modal-header h2 {
				color: #ffffff;
				margin-bottom: 10px;
				font-size: 24px;
				font-weight: 700;
				margin: 0;
			}
			
			.modal-header p {
				color: #aaaaaa;
				margin-top: 4px;
				font-size: 16px;
			}
			
			.modal-buttons {
				display: flex;
				flex-direction: column;
				gap: 15px;
			}
			
			.modal-button {
				padding: 12px 20px;
				border-radius: 6px;
				font-weight: 600;
				font-size: 16px;
				cursor: pointer;
				transition: all 0.3s ease;
				display: flex;
				align-items: center;
				justify-content: center;
				text-decoration: none;
			}
			
			.login-button {
				background-color: #ff6600;
				color: white;
				border: none;
				gap: 7px;
			}
			
			.login-button:hover {
				background-color: #ff8033;
			}
			
			.signup-button {
				background-color: transparent;
				color: #ff6600;
				border: 1px solid #ff6600;
				gap: 7px;
			}
			
			.signup-button:hover {
				background-color: rgba(255, 102, 0, 0.1);
			}
			
			.modal-close {
				position: absolute;
				top: 15px;
				right: 15px;
				color: #aaaaaa;
				font-size: 20px;
				cursor: pointer;
				transition: color 0.3s ease;
			}
			
			.modal-close:hover {
				color: #ff6600;
			}
			
			/* Lock icon for popular games */
			.lock-icon {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				background-color: rgba(0, 0, 0, 0.7);
				color: white;
				border: none;
				border-radius: 25px;
				padding: 10px 20px;
				font-weight: 600;
				cursor: pointer;
				opacity: 0;
				transition: opacity 0.3s;
				box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
				display: flex;
				align-items: center;
			}
			
			.game-card:hover .lock-icon {
				opacity: 1;
			}
			
			.lock-icon i {
				margin-right: 8px;
				color: #ff6600;
			}
			.step {
				margin-bottom: 15px;
			}
			
			.step-number {
				display: inline-block;
				background-color: #de5c34;
				color: white;
				width: 24px;
				height: 24px;
				border-radius: 50%;
				text-align: center;
				line-height: 24px;
				margin-right: 10px;
				font-weight: bold;
			}
		</style>
	</head>

	<body>
		<ul class="navbar">
			<li style="margin-left: -1px; margin-top: 2px">
				<a href="/"><img class="logo" src="/assets/logo.webp" alt="Logo"/></a>
			</li>
			<hr style="margin-top: 5px" />
			<li>
				<a href="/" title="Home">
					<span style="margin-top: 0px" class="material-symbols-outlined">cottage</span>
				</a>
			</li>
			<li>
				<a href="/&.html" title="Search">
					<span class="material-symbols-outlined">public</span>
				</a>
			</li>
			<hr>
			<li>
				<a href="/a.html" title="Apps">
					<span class="material-symbols-outlined">apps</span>
				</a>
			</li>
			<li>
				<a href="/g.html" title="Games">
					<span class="material-symbols-outlined">joystick</span>
				</a>
			</li>
			<li>
				<a href="/downloadable-games.html" title="Downloadable Games">
					<span id="navactive" class="material-symbols-outlined">download</span>
				</a>
			</li>
			<hr>
			<li>
				<a href="/ultimate-links.html" title="Ultimate Link List">
					<span class="material-symbols-outlined">list</span>
				</a>
			</li>
			<li>
				<a href="/links.html" title="Link Generator">
					<span class="material-symbols-outlined">link</span>
				</a>
			</li>
			<hr>
			
			<li>
				<a href="/guides.html" title="Guides and Methods">
					<span class="material-symbols-outlined">help_outline</span>
				</a>
			</li>
			
			<li>
				<a href="/yt-channels.html" title="Unblocker YouTube Channels">
					<span class="material-symbols-outlined">play_circle</span>
				</a>
			</li>
			<hr>
			<li>
				<a href="/ai.html" title="AI Chat">
					<span class="material-symbols-outlined">smart_toy</span>
				</a>
			</li>
			<hr />
			<li>
				<a href="/~.html" title="Settings">
					<span style="margin-top: 0" class="material-symbols-outlined">tune</span>
				</a>
			</li>
			<li>
				<a target="_blank" href="/discord.html" title="Discord Server">
					<div style="height: 40px !important; width: 40px !important; margin-top: 10px; margin-bottom: -6px;">
						<i class="fa-brands fa-discord" style="transform: translateY(-6px)"></i>
					</div>
				</a>
			</li>
		</ul>
		<div class="scrolltop">
			<span class="material-symbols-outlined">arrow_upward</span>
		</div>

		<div class="content-container">
			<h1 class="page-title">Downloadable Games</h1>
			<p class="page-description">Download and play these games offline on your school device</p>
			
			<div class="search-container">
				<input type="text" id="search-games" class="search-input" placeholder="Search games...">
				<button id="clear-search" class="search-clear" aria-label="Clear search">
					<span class="material-symbols-outlined">close</span>
				</button>
			</div>
			<div id="no-results" class="no-results hidden">No games match your search.</div>
			<!-- Game categories will be dynamically created based on game data -->
			<div id="game-categories-container">
				<!-- Template for category sections -->
				<!-- <div class="category-title">
					<i class="fa-solid fa-gamepad category-icon"></i>
					Category Name
				</div>
				<div class="game-grid" id="category-id-games">
					Game cards will be inserted here
				</div> -->
			</div>

			<div class="category-title">
				<i class="fa-solid fa-list category-icon"></i>
				All Games
			</div>
			<div class="game-grid" id="all-games">
				<!-- Games will be inserted here by JavaScript -->
				<div id="no-results" class="no-results hidden">No games match your search.</div>
			</div>
		</div>

		<!-- Mobile Warning Modal -->
		<div id="mobile-warning-modal" class="modal-overlay">
			<div class="modal">
				<div class="modal-close" id="close-mobile-modal">
					<i class="fa-solid fa-xmark"></i>
				</div>
				<div class="modal-header">
					<h2>Mobile Not Supported</h2>
					<p>These games cannot be played on mobile devices</p>
				</div>
				<div class="modal-buttons">
					<button class="modal-button login-button" id="understand-mobile-button">
						I Understand
					</button>
				</div>
			</div>
		</div>

		<!-- Download Instructions Modal -->
		<div id="instructions-modal" class="modal-overlay">
			<div class="modal">
				<div class="modal-close" id="close-instructions-modal">
					<i class="fa-solid fa-xmark"></i>
				</div>
				<div class="modal-header">
					<h2>How to Play Offline</h2>
					<p>Follow these steps to play your downloaded game</p>
				</div>
				<div class="modal-content">
					<div class="step">
						<span class="step-number">1</span>
						<strong>Download the game</strong> to your personal computer
					</div>
					
					<div class="step">
						<span class="step-number">2</span>
						<strong>Extract the ZIP file</strong> using a program like WinRAR or 7-Zip
					</div>
					
					<div class="step">
						<span class="step-number">3</span>
						<strong>Copy all files</strong> to a USB drive (8GB+ recommended)
					</div>
					
					<div class="step">
						<span class="step-number">4</span>
						<strong>Plug the USB drive</strong> into your school computer
					</div>
					
					<div class="step">
						<span class="step-number">5</span>
						Find the game's <strong>main executable</strong> (usually a .exe file) and run it
					</div>
				</div>
				<div class="modal-buttons">
					<button class="modal-button login-button" id="got-it-button">
						Got It!
					</button>
				</div>
			</div>
		</div>

		<!-- Auth Modal -->
		<div class="modal-overlay" id="login-required-modal">
			<div class="modal">
				<div class="modal-close" id="close-login-modal">
					<i class="fa-solid fa-xmark"></i>
				</div>
				<div class="modal-header">
					<img src="/assets/logo.png" alt="Flamepass Logo" class="login-logo">
					<h2>Login Required</h2>
					<p>Please login to download this game</p>
				</div>
				<div class="modal-buttons">
					<a href="/login.html" class="modal-button login-button">
						Login <i data-lucide="log-in"></i>
					</a>
					<a href="/signup.html" class="modal-button signup-button">
						Sign Up <i data-lucide="user-plus"></i>
					</a>
				</div>
			</div>
		</div>

		<div style="z-index: -998">
			<div style="z-index: -998; position: fixed" class="blob"></div>
			<div style="z-index: -998; position: fixed" class="blobbig"></div>
			<div style="z-index: -998; position: fixed" class="blobsmall"></div>
			<div style="z-index: -998; position: fixed" class="blobtop"></div>
			<div style="z-index: -999; position: fixed" id="particles-js"></div>
		</div>
		
		<script>
					// Game data will be added by you
					const gamesData= [
				// Popular games (top 15% by recognition/cultural impact)
				{ title: "Rocket League", image: "https://cdn.akamai.steamstatic.com/steam/apps/252950/header.jpg", size: "3.65 GB", url: "https://drive.google.com/open?id=0B1y3AScetqavUG53cjBFSUlVX1U&resourcekey=0-BtXdTdhW_Fthn9UyvHJj8Q&usp=drive_copy", category: "popular" },
				{ title: "Hollow Knight", image: "https://cdn.akamai.steamstatic.com/steam/apps/367520/header.jpg", size: "1.5 GB", url: "https://drive.google.com/open?id=1gTxsJEnak1_HsRViLn1bvrEk21zXeUZK&usp=drive_copy", category: "popular" },
				{ title: "Five Nights at Freddy's", image: "https://cdn.akamai.steamstatic.com/steam/apps/319510/header.jpg", size: "220.7 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPUzFpOUoySklqY3c&resourcekey=0-RV2n_PYoBpfq-oso-ATq6A&usp=drive_copy", category: "popular" },
				{ title: "FNAF: Sister Location", image: "https://cdn.akamai.steamstatic.com/steam/apps/506610/header.jpg", size: "765.6 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPMlFZeTl3YzZpbjA&resourcekey=0-AI3yo8I4Tm4U48dZIF_cTQ&usp=drive_copy", category: "popular" },
				{ title: "Grand Theft Auto: San Andreas", image: "https://cdn.akamai.steamstatic.com/steam/apps/12120/header.jpg", size: "437.9 MB", url: "https://drive.google.com/open?id=0B-zHnX0724mNTGI0V01zTVY3WFk&resourcekey=0-Yi_GQnr2T2LkKYdYSen9tQ&usp=drive_copy", category: "popular" },
				{ title: "Stardew Valley", image: "https://cdn.cloudflare.steamstatic.com/steam/apps/413150/header.jpg", size: "321.4 MB", url: "https://drive.google.com/open?id=1sgepZRLE7rSZ-ashmIN4fHErrsiXkC_6&usp=drive_copy", category: "popular" },
				{ title: "Star Wars: Battlefront II", image: "https://cdn.akamai.steamstatic.com/steam/apps/1237950/header.jpg", size: "4.02 GB", url: "https://drive.google.com/open?id=1lBEuxB_QA4E7Gc1pfGsyNfV2bTy85J58&usp=drive_copy", category: "popular" },
				{ title: "StarCraft", image: "https://i.redd.it/tgxawg7wjm3d1.jpeg", size: "10.5 MB", url: "https://drive.google.com/open?id=10ia49Nf90xv4XXjVPno93F7kRlL2T07y&usp=drive_copy", category: "popular" },
				{ title: "Portal 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/620/header.jpg", size: "7.64 GB", url: "https://drive.google.com/open?id=13Oh288efXlWF6zAuSbeZ2p-rxn9VeVCF&usp=drive_copy", category: "popular" },
				{ title: "The Elder Scrolls V: Skyrim", image: "https://cdn.akamai.steamstatic.com/steam/apps/72850/header.jpg", size: "11.15 GB", url: "https://drive.google.com/open?id=0B1y3AScetqavMllPdlU2aW95Uzg&resourcekey=0-kStFdSiCsGMEjlgUVpgToQ&usp=drive_copy", category: "popular" },
				{ title: "Hello Neighbor", image: "https://cdn.akamai.steamstatic.com/steam/apps/521890/header.jpg", size: "35.4 MB", url: "https://drive.google.com/open?id=1nocao8h-lYadRMqTGCvNO57u5iZZ5QMB&usp=drive_copy", category: "popular" },
				{ title: "Half-Life 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/220/header.jpg", size: "3.12 GB", url: "https://drive.google.com/open?id=190YVYln0FqF2jLDY0zxCUxdynCDDFQoM&usp=drive_copy", category: "popular" },
				{ title: "Left 4 Dead 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/550/header.jpg", size: "14.36 GB", url: "https://drive.google.com/open?id=0BwqZMepc_pHyZVZkb1hNOTlsU0k&resourcekey=0-O_Atkq7rtLXOxtlsoFbidQ&usp=drive_copy", category: "popular" },
				{ title: "Don't Starve Together", image: "https://cdn.akamai.steamstatic.com/steam/apps/322330/header.jpg", size: "229.2 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPVjkwVG8wSEZUdkE&resourcekey=0-ONa3I9S7yDk7Chs3aYyf7A&usp=drive_copy", category: "popular" },
				{ title: "Portal", image: "https://cdn.akamai.steamstatic.com/steam/apps/400/header.jpg", size: "2.25 GB", url: "https://drive.google.com/open?id=1xZTFpw--SAf2HaFZq59tQtQS8vZf90uD&usp=drive_copy", category: "popular" },
	
	// Action games
	{ title: "Sonic Adventure DX", image: "https://cdn.akamai.steamstatic.com/steam/apps/71250/header.jpg", size: "410.9 MB", url: "https://drive.google.com/open?id=1QHzH2T69zZLdTGfUrOA97q2qo1JAoTBv&usp=drive_copy", category: "action" },
	{ title: "Rayman Origins", image: "https://cdn.cloudflare.steamstatic.com/steam/apps/207490/header.jpg", size: "2.27 GB", url: "https://drive.google.com/open?id=1iKzdfIWk7MLMIvwrd8qa5PglbX6XFY06&usp=drive_copy", category: "action" },
	{ title: "Project Wingman Demo", image: "https://cdn.akamai.steamstatic.com/steam/apps/895870/header.jpg", size: "5.86 GB", url: "https://drive.google.com/open?id=18dGqZG9X532QfhG1t6yiGAkMSnGHrG0t&usp=drive_copy", category: "action" },
	{ title: "Left 4 Dead", image: "https://cdn.akamai.steamstatic.com/steam/apps/500/header.jpg", size: "3.57 GB", url: "https://drive.google.com/open?id=1_IXuw-tNjp1uAX_bZUZEJE1DV-tT-CNI&usp=drive_copy", category: "action" },
	{ title: "Brutal Doom 20b Hell on Earth", image: "https://i.ytimg.com/vi/iPyq0jFgVjI/maxresdefault.jpg", size: "177.6 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPVGxZVEprNjFrcTQ&resourcekey=0-GAGqBk018KMQTNdewfSCtg&usp=drive_copy", category: "action" },
	{ title: "Crashday", image: "https://cdn.akamai.steamstatic.com/steam/apps/508980/header.jpg", size: "764.8 MB", url: "https://drive.google.com/open?id=13Kfv67706b8Oy6pcIcKWD8OtphgzQXAw&usp=drive_copy", category: "action" },
	
	// RPG games
	{ title: "Pokemon Uranium", image: "https://static.wikia.nocookie.net/pokemon-uranium/images/7/73/Uranium_intro.png/revision/latest?cb=20240412053347", size: "216.5 MB", url: "https://drive.google.com/open?id=0B8OJSszLgRGmTDFNNF9rbjVDMDA&resourcekey=0-VRRhVk2WHbKOzHyj6IQubQ&usp=drive_copy", category: "rpg" },
	{ title: "Pokemon Insurgence", image: "https://mir-s3-cdn-cf.behance.net/projects/404/a700fb38527887.Y3JvcCwxMzE0LDEwMjgsMzAyLDI2.png", size: "251.2 MB", url: "https://drive.google.com/open?id=0B8OJSszLgRGmZlBHMkpMRzlvTWs&resourcekey=0-qxhtUoQIIb-1jTqjaZ3rpw&usp=drive_copy", category: "rpg" },
	{ title: "Warcraft Online Plus", image: "https://www.farazjafari.com/wp-content/uploads/2019/09/WOW-Classic-Plus-Banner.png", size: "50.4 MB", url: "https://drive.google.com/open?id=0B-msgOvnlckUMlR6anN5bkEwNUE&resourcekey=0-ENYbTaeR6fHnfBRpqjrXNg&usp=drive_copy", category: "rpg" },
	{ title: "Fate", image: "https://cdn.akamai.steamstatic.com/steam/apps/246840/header.jpg", size: "163.1 MB", url: "https://drive.google.com/open?id=0B-msgOvnlckUSmY4TTFqTzYtd2s&resourcekey=0-Etf7t5oC09F8lub2YJ1ZyQ&usp=drive_copy", category: "rpg" },
	{ title: "Evoland", image: "https://cdn.akamai.steamstatic.com/steam/apps/233470/header.jpg", size: "76.8 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPQU1uSG15VjloZjA&resourcekey=0-aqFT84o6gLuec78m9R2TAQ&usp=drive_copy", category: "rpg" },
	{ title: "Evoland 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/359310/header.jpg", size: "319.5 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPWlFiR2xHMFp1WWs&resourcekey=0-kP1xvNbEFaKBukYSgpmB9w&usp=drive_copy", category: "rpg" },
	
	// Classic games
	{ title: "Half-Life: Blue Shift", image: "https://cdn.akamai.steamstatic.com/steam/apps/130/header.jpg", size: "3.64 GB", url: "https://drive.google.com/open?id=0B8OJSszLgRGmemtFX2g2TDVxS3c&resourcekey=0-nRdLPlr93XUMO5k889uvfQ&usp=drive_copy", category: "classic" },
	{ title: "Half-Life 2: Episode 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/420/header.jpg", size: "3.35 GB", url: "https://drive.google.com/open?id=0B-msgOvnlckUbkliRzBVMkZyTVk&resourcekey=0-Vka7tZyBwa9xUhbZ9vMp9A&usp=drive_copy", category: "classic" },
	{ title: "Doom 3", image: "https://cdn.akamai.steamstatic.com/steam/apps/208200/header.jpg", size: "41 MB", url: "https://drive.google.com/open?id=10BC4qo4vnYQtDbjXSPCEal-iROCE48Uy&usp=drive_copy", category: "classic" },
	{ title: "Doom 3 Portable", image: "https://cdn.akamai.steamstatic.com/steam/apps/208200/header.jpg", size: "1.5 GB", url: "https://drive.google.com/open?id=0B8OJSszLgRGmVnJwQUhJR1ctNlE&resourcekey=0-BDL6ZHFk0vHFqfSz8b-DyQ&usp=drive_copy", category: "classic" },
	
	// Strategy games
	{ title: "Plague Inc", image: "https://cdn.akamai.steamstatic.com/steam/apps/246620/header.jpg", size: "365.9 MB", url: "https://drive.google.com/open?id=0B2Dxw3In9Yh7ZllZSGxxVm1tQjQ&resourcekey=0-C3giD8ZCn0S7SDByN0c44A&usp=drive_copy", category: "strategy" },
	{ title: "Prison Architect", image: "https://cdn.akamai.steamstatic.com/steam/apps/233450/header.jpg", size: "659.3 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPcnh2ZUZ5UHNsMnc&resourcekey=0-7ry1-ZQpB1AZ6zCdugWCEw&usp=drive_copy", category: "strategy" },
	{ title: "Bloons Tower Defense (OG)", image: "https://cdn.akamai.steamstatic.com/steam/apps/960090/header.jpg", size: "219.3 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPV0FsR2FwYngzbjg&resourcekey=0-Q4Zto3C0xBaEgsFGHdj5sA&usp=drive_copy", category: "strategy" },
	
	// Indie games
	{ title: "Super Meat Boy", image: "https://cdn.akamai.steamstatic.com/steam/apps/40800/header.jpg", size: "86 MB", url: "https://drive.google.com/open?id=0B8OJSszLgRGmaURiYmN0ZUhaNzg&resourcekey=0-PbniWDGmuoFVx94wnlnl2Q&usp=drive_copy", category: "indie" },
	{ title: "Stranded Deep Alpha", image: "https://cdn.akamai.steamstatic.com/steam/apps/313120/header.jpg", size: "220.1 MB", url: "https://drive.google.com/open?id=0B-0FGUJOS7AdUmJQVW9HZFRCQk0&resourcekey=0-UMuVHc8st47oo1zYihX3JA&usp=drive_copy", category: "indie" },
	{ title: "Slender", image: "https://cdn.akamai.steamstatic.com/steam/apps/252330/header.jpg", size: "42.8 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPMFFJSlRpVEpuMzg&resourcekey=0-NGfDablUd88nRdyF2KQZzg&usp=drive_copy", category: "indie" },
	{ title: "Shovel Knight", image: "https://cdn.akamai.steamstatic.com/steam/apps/250760/header.jpg", size: "94.7 MB", url: "https://drive.google.com/open?id=0B8OJSszLgRGmWTJfM2hwRUVNZDA&resourcekey=0-RrSPIUfJgZ8vRyQjzqjyIA&usp=drive_copy", category: "indie" },
	{ title: "Shovel Knight: Treasure Trove", image: "https://cdn.akamai.steamstatic.com/steam/apps/589680/header.jpg", size: "209.9 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPN3puTklwSmdqajg&resourcekey=0-dKr1bDxU7dnABMM1AZxyOg&usp=drive_copy", category: "indie" },
	{ title: "Rogue Legacy", image: "https://cdn.akamai.steamstatic.com/steam/apps/241600/header.jpg", size: "94.2 MB", url: "https://drive.google.com/open?id=1s18oc7Y5Lih37mfbggbczKvLOfE-MRzK&usp=drive_copy", category: "indie" },
	{ title: "Realm of the Mad God", image: "https://cdn.akamai.steamstatic.com/steam/apps/200210/header.jpg", size: "129.2 MB", url: "https://drive.google.com/open?id=1AdTu2t4pvREXvjeEJRUK8-LSbFLBaWvZ&usp=drive_copy", category: "indie" },
	{ title: "Papers, Please", image: "https://cdn.akamai.steamstatic.com/steam/apps/239030/header.jpg", size: "33.9 MB", url: "https://drive.google.com/open?id=1XdnK0C9rxwTSW31Un3K2dA3DASlmEBPs&usp=drive_copy", category: "indie" },
	{ title: "Okhlos", image: "https://cdn.akamai.steamstatic.com/steam/apps/400180/header.jpg", size: "2.23 GB", url: "https://drive.google.com/open?id=1skdbmVnbnTpUrSQ3jjx5dOyKHUO_Hrmt&usp=drive_copy", category: "indie" },
	{ title: "Hyper Light Drifter", image: "https://cdn.akamai.steamstatic.com/steam/apps/257850/header.jpg", size: "747.4 MB", url: "https://drive.google.com/open?id=1iokSgV0z90pB353v0agqdy3ZXGVqGuYn&usp=drive_copy", category: "indie" },
	{ title: "Hotline Miami", image: "https://cdn.akamai.steamstatic.com/steam/apps/219150/header.jpg", size: "36.7 MB", url: "https://drive.google.com/open?id=1k6plyzyh8ABbLqbPvTFkGlh0nWfqIw1t&usp=drive_copy", category: "indie" },
	{ title: "Hotline Miami 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/274170/header.jpg", size: "129.7 MB", url: "https://drive.google.com/open?id=111lVnhmUF3iWH1G82c70IloXEzBEQKpQ&usp=drive_copy", category: "indie" },
	{ title: "Five Nights at Freddy's 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/332800/header.jpg", size: "207.4 MB", url: "https://drive.google.com/open?id=0B-xENJ-pMOUGN0lSX2wzLUp4Z1U&resourcekey=0-BCwR17riGYRYg7OOVm3COQ&usp=drive_copy", category: "indie" },
	{ title: "Five Nights at Freddy's 3", image: "https://cdn.akamai.steamstatic.com/steam/apps/354140/header.jpg", size: "109.1 MB", url: "https://drive.google.com/open?id=0B31-NQeMvxfqSTFTcFNiY1J5VEE&resourcekey=0-GVa5NhnPISCrvvLnFi3fJw&usp=drive_copy", category: "indie" },
	{ title: "Five Nights at Freddy's World", image: "https://i.ytimg.com/vi/FJmWHOMsT7Q/maxresdefault.jpg", size: "229.1 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPR3hLV2JIX0JoWkk&resourcekey=0--zSt0A0l8OpMhSichxI7RA&usp=drive_copy", category: "indie" },
	{ title: "FNAF: Pizzeria Simulator", image: "https://cdn.akamai.steamstatic.com/steam/apps/738060/header.jpg", size: "250.7 MB", url: "https://drive.google.com/open?id=13YU_XZu6mKUF2Kfv6C2eaQzOeNGN3czy&usp=drive_copy" },
	{ title: "Enter the Gungeon", image: "https://cdn.akamai.steamstatic.com/steam/apps/311690/header.jpg", size: "199 MB", url: "https://drive.google.com/open?id=0B1y3AScetqavdnFFalVsTlNkaW8&resourcekey=0-CfC4LgvzpUqvJqeBYNeSDA&usp=drive_copy", category: "indie" },
	{ title: "Dead Cells", image: "https://cdn.akamai.steamstatic.com/steam/apps/588650/header.jpg", size: "428 MB", url: "https://drive.google.com/open?id=1KMYgSalBfvp0jjm4mASmwa3X7vP2qcLl&usp=drive_copy", category: "indie" },
	{ title: "Darkest Dungeon", image: "https://cdn.akamai.steamstatic.com/steam/apps/262060/header.jpg", size: "2.86 GB", url: "https://drive.google.com/open?id=1qYN3ZFnvQwJ7lNrIYslntRoSxcfwoHfn&usp=drive_copy", category: "indie" },
	{ title: "The Binding of Isaac: Rebirth", image: "https://cdn.akamai.steamstatic.com/steam/apps/250900/header.jpg", size: "451.4 MB", url: "https://drive.google.com/open?id=0B1y3AScetqavcmVCZjBOQ2ZDT0k&resourcekey=0-LPcl6__6inVo9VaThNTbOQ&usp=drive_copy", category: "indie" },
	{ title: "The Binding of Isaac", image: "https://cdn.akamai.steamstatic.com/steam/apps/113200/header.jpg", size: "85.9 MB", url: "https://drive.google.com/open?id=1u-jb8vFDsJhVxKZbvFi-WXTQqQX-tKrQ&usp=drive_copy", category: "indie" },

	// Games without category
	{ title: "Tabletop Simulator", image: "https://cdn.akamai.steamstatic.com/steam/apps/286160/header.jpg", size: "4.65 GB", url: "https://drive.google.com/open?id=1AyZFV2KMoUGq_nVPhQ0o0o4Wfe2xn9YR&usp=drive_copy" },
	{ title: "Super Smash Flash 2 Beta", image: "https://archive.org/download/SSF2BetaSetupMac.v1.1.0.1/DOhCI27X0AAV1PJ.jpg", size: "10.8 MB", url: "https://drive.google.com/open?id=0B-QJJrpqaROPaG5qMWZTMXZZeXM&resourcekey=0-mAYGs1VnTQUeK4XCX_JORg&usp=drive_copy" },
	{ title: "RPG Maker XP", image: "https://cdn.akamai.steamstatic.com/steam/apps/235900/header.jpg", size: "1.33 GB", url: "https://drive.google.com/open?id=0B-msgOvnlckUZFBuSGxwWjZLNDg&resourcekey=0-qvUuYSaWYcYlnjpqfWbf5Q&usp=drive_copy" },
	{ title: "Nothing 2", image: "https://cdn.akamai.steamstatic.com/steam/apps/1241700/header.jpg", size: "663.7 MB", url: "https://drive.google.com/open?id=1M4Bz1tMAMGCrChhEcfId5ZGazqgIbayX&usp=drive_copy" },
	{ title: "Harvest Moon: Light of Hope", image: "https://cdn.akamai.steamstatic.com/steam/apps/585900/header.jpg", size: "766 MB", url: "https://drive.google.com/open?id=1f1eE41XNOdqeokAEgY1c1kgCegIoDVcL&usp=drive_copy" },
	{ title: "Danganronpa: Trigger Happy Havoc", image: "https://cdn.akamai.steamstatic.com/steam/apps/413410/header.jpg", size: "2.41 GB", url: "https://drive.google.com/open?id=1hku_jv-CC2z-mX2s1HaV3PUmI1mNQrgk&usp=drive_copy" },
	{ title: "Danganronpa 2: Goodbye Despair", image: "https://cdn.akamai.steamstatic.com/steam/apps/413420/header.jpg", size: "3.07 GB", url: "https://drive.google.com/open?id=1bfBbMiyKA0fnG8uUPTbhp7uF7RxSVv-a&usp=drive_copy" },
	{ title: "Call of Duty 4: Modern Warfare", image: "https://cdn.akamai.steamstatic.com/steam/apps/7940/header.jpg", size: "4.43 GB", url: "https://drive.google.com/open?id=1pOaV240JSgowOFFj_1rO74N3DcOT0F--&usp=drive_copy" },
	{ title: "Counter-Strike: Source", image: "https://cdn.akamai.steamstatic.com/steam/apps/240/header.jpg", size: "1.03 GB", url: "https://drive.google.com/open?id=1kGXMJRN1do4WWsk3bjoE1hcpR_1VJqI9&usp=drive_copy"},
	{ title: "Counter-Strike", image: "https://cdn.akamai.steamstatic.com/steam/apps/10/header.jpg", size: "256.1 MB", url: "https://drive.google.com/open?id=0Bwa3UPwo0PalV3FraW5qLXBfLTQ&resourcekey=0-EI89kbpJ7uiECuIh-5pZIQ&usp=drive_copy"}

];
// Function to detect mobile devices
			function isMobileDevice() {
				return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
			}
			
			// Function to check if user is logged in (using the same auth logic)
			function isUserLoggedIn() {
				const loginData = getLoginFromLocalStorage();
				return !!loginData; // Convert to boolean
			}
			
			// Function to get login data from local storage
			function getLoginFromLocalStorage() {
				const loginData = JSON.parse(localStorage.getItem('loginData'));
				if (!loginData) return null;
				
				const now = new Date();
				const expirationDate = new Date(loginData.expiration);
				if (now > expirationDate) {
					localStorage.removeItem('loginData');
					return null;
				}
				return loginData;
			}
			
			// Function to create game cards
			function createGameCards(games, containerId) {
				const container = document.getElementById(containerId);
				container.innerHTML = ''; // Clear container
				
				if (games.length === 0 && containerId === 'all-games') {
					// No results will be handled by the no-results div
					return;
				}
				
				games.forEach(game => {
					const gameCard = document.createElement('div');
					gameCard.className = 'game-card';
					
					// Use CDN for images
					let imageUrl = game.image;
					if (imageUrl && !imageUrl.includes('w0.wp.com')) {
						// Replace with actual CDN prefix
						imageUrl = 'https://i0.wp.com/' + imageUrl.replace(/^https?:\/\//, '');
					}
					
					let isPopularGame = game.popular || (game.category && game.category.toLowerCase().includes('popular'));
					
					gameCard.innerHTML = `
						<img src="${imageUrl}" alt="${game.title}" class="game-img">
						<div class="game-overlay">
							<h3 class="game-title">${game.title}</h3>
							<p class="game-size">${game.size}</p>
						</div>
						<button class="download-btn" data-game-title="${game.title}" data-game-url="${game.url}">Download</button>
					`;
					
					// Add lock icon for popular games if user is not logged in
					if (isPopularGame && !isUserLoggedIn()) {
						const lockButton = document.createElement('button');
						lockButton.className = 'lock-icon';
						lockButton.innerHTML = '<i class="fa-solid fa-lock"></i> Login Required';
						lockButton.setAttribute('data-game-title', game.title);
						
						// Add click event to lock button
						lockButton.addEventListener('click', handleLockedGameClick);
						
						gameCard.appendChild(lockButton);
						
						// Hide the download button
						const downloadBtn = gameCard.querySelector('.download-btn');
						if (downloadBtn) {
							downloadBtn.style.display = 'none';
						}
					}
					
					container.appendChild(gameCard);
				});
				
				// Add click events to all download buttons
				const downloadButtons = container.querySelectorAll('.download-btn');
				downloadButtons.forEach(button => {
					button.addEventListener('click', handleDownloadClick);
				});
			}
			
			// Handle locked game click
			function handleLockedGameClick(e) {
				e.stopPropagation();
				
				// Show login modal
				showModal('login-required-modal');
			}
			
			// Handle download button clicks
			function handleDownloadClick(e) {
				e.stopPropagation();
				
				const gameTitle = this.getAttribute('data-game-title');
				const gameUrl = this.getAttribute('data-game-url');
				
				// Find the game in our data
				const game = gamesData.flat().find(g => g.title === gameTitle);
				
				// Check if this is a popular game and user is not logged in
				if (game && (game.popular || (game.category && game.category.toLowerCase().includes('popular'))) && !isUserLoggedIn()) {
					// Show login modal
					showModal('login-required-modal');
					return;
				}
				
				// Show mobile warning if on mobile
				if (isMobileDevice()) {
					showModal('mobile-warning-modal');
					return;
				}
				
				// Start download and show toast
				showSuccessToast(`Starting download for ${gameTitle}...`);
				
				// Open download in new tab
				window.open(gameUrl, '_blank');
				
				// Show instructions modal after a delay (so it appears when they come back to this tab)
				setTimeout(() => {
					showModal('instructions-modal');
				}, 1000);
			}
			
			// Function to show a modal
			function showModal(modalId) {
				document.getElementById(modalId).classList.add('active');
			}
			
			// Function to hide a modal
			function hideModal(modalId) {
				document.getElementById(modalId).classList.remove('active');
			}

			// Function to show toast notification for downloads
			function showSuccessToast(message) {
				// Create toast container if it doesn't exist
				let toastContainer = document.querySelector('.toast-container');
				if (!toastContainer) {
					toastContainer = document.createElement('div');
					toastContainer.className = 'toast-container';
					toastContainer.style.cssText = `
						position: fixed;
						bottom: 20px;
						right: 20px;
						z-index: 1000;
					`;
					document.body.appendChild(toastContainer);
				}
				
				// Create toast element
				const toast = document.createElement('div');
				toast.className = 'toast';
				toast.style.cssText = `
					background-color: rgba(46, 46, 46, 0.9);
					color: white;
					padding: 12px 20px;
					border-radius: 8px;
					margin-top: 10px;
					box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
					display: flex;
					align-items: center;
					transform: translateY(100px);
					opacity: 0;
					transition: transform 0.3s, opacity 0.3s;
					border-left: 4px solid #de5c34;
				`;
				
				// Add success icon
				toast.innerHTML = `
					<i class="fa-solid fa-check" style="color: #de5c34; margin-right: 10px;"></i>
					${message}
				`;
				
				// Add to container
				toastContainer.appendChild(toast);
				
				// Show toast with animation
				setTimeout(() => {
					toast.style.transform = 'translateY(0)';
					toast.style.opacity = '1';
				}, 10);
				
				// Remove after 3 seconds
				setTimeout(() => {
					toast.style.transform = 'translateY(100px)';
					toast.style.opacity = '0';
					setTimeout(() => {
						toast.remove();
					}, 300);
				}, 3000);
			}
			
			// Function to collect unique categories from games data
			function getUniqueCategories(games) {
				const categories = new Set();
				
				// Add default categories
				categories.add('popular');
				categories.add('indie');
				categories.add('action');
				categories.add('rpg');
				categories.add('horror');
				categories.add('classic');
				
				// Add categories from game data
				games.forEach(game => {
					if (game.category) {
						// Handle multiple categories separated by commas
						const gameCategories = game.category.split(',');
						gameCategories.forEach(cat => {
							categories.add(cat.trim().toLowerCase());
						});
					}
				});
				
				return Array.from(categories);
			}
			
			// Function to create category sections
			function createCategorySection(category, games) {
				// Create container for category section
				const categoryContainer = document.getElementById('game-categories-container');
				
				// Map categories to icons
				const categoryIcons = {
					'popular': 'fa-star',
					'indie': 'fa-gamepad',
					'action': 'fa-gun',
					'rpg': 'fa-dragon',
					'horror': 'fa-ghost',
					'classic': 'fa-trophy',
					'strategy': 'fa-chess',
					'puzzle': 'fa-puzzle-piece',
					'racing': 'fa-car-side',
					'adventure': 'fa-mountain',
					'simulation': 'fa-city',
					'sports': 'fa-basketball',
					'platformer': 'fa-flag-checkered'
				};
				
				// Use default icon if category doesn't have a defined icon
				const iconClass = categoryIcons[category] || 'fa-gamepad';
				
				// Format category name for display (capitalize first letter)
				const displayCategory = category.charAt(0).toUpperCase() + category.slice(1);
				
				// Create category title
				const categoryTitle = document.createElement('div');
				categoryTitle.className = 'category-title';
				categoryTitle.innerHTML = `
					<i class="fa-solid ${iconClass} category-icon"></i>
					${displayCategory} Games
				`;
				
				// Create game grid for this category
				const gameGrid = document.createElement('div');
				gameGrid.className = 'game-grid';
				gameGrid.id = `${category}-games`;
				
				// Add to DOM
				categoryContainer.appendChild(categoryTitle);
				categoryContainer.appendChild(gameGrid);
				
				// Fill with games
				createGameCards(games, gameGrid.id);
			}
			
			// Function to get games for a category
						// Function to get games for a category
			function getGamesForCategory(games, category) {
				if (category === 'all') {
					return games;
				}
				
				return games.filter(game => {
					// Check if game belongs to this category
					if (category === 'popular' && game.popular) {
						return true;
					}
					
					if (game.category) {
						const categories = game.category.split(',').map(cat => cat.trim().toLowerCase());
						return categories.includes(category.toLowerCase());
					}
					
					return false;
				});
			}
			
			// Get all unique games for the "All Games" section
			function getAllUniqueGames(games) {
				// Return all games sorted alphabetically
				return [...games].sort((a, b) => a.title.localeCompare(b.title));
			}
			
			// Filter games based on search input
			function filterGames(allGames, searchText) {
				const allSections = document.querySelectorAll('.category-title');
				const searchLower = searchText.toLowerCase();
				const noResultsElement = document.getElementById('no-results');
				let anyResults = false;
				
				// Reset "No results" message
				noResultsElement.classList.add('hidden');
				
				// Filter all games first
				const filteredAllGames = allGames.filter(game => 
					game.title.toLowerCase().includes(searchLower)
				);
				
				// Show/hide all category sections based on whether they have visible games
				Array.from(allSections).forEach(section => {
					// Skip the "All Games" section, we'll handle it separately
					if (section.textContent.trim().includes('All Games')) {
						return;
					}
					
					// Get category name from section title
					const categoryText = section.textContent.trim().replace(' Games', '').toLowerCase();
					
					// Get games grid for this category
					const gameGrid = section.nextElementSibling;
					
					// Get games for this category and filter them
					const categoryGames = getGamesForCategory(allGames, categoryText);
					const filteredCategoryGames = categoryGames.filter(game => 
						game.title.toLowerCase().includes(searchLower)
					);
					
					// Update game cards for this category
					if (gameGrid && gameGrid.classList.contains('game-grid')) {
						createGameCards(filteredCategoryGames, gameGrid.id);
					}
					
					// Show/hide category section based on results
					const hasResults = filteredCategoryGames.length > 0;
					section.style.display = hasResults ? 'flex' : 'none';
					if (gameGrid) {
						gameGrid.style.display = hasResults ? 'grid' : 'none';
					}
					
					if (hasResults) {
						anyResults = true;
					}
				});
				
				// Handle the "All Games" section
				createGameCards(filteredAllGames, 'all-games');
				
				// Show "No results" message if nothing found
				if (filteredAllGames.length === 0) {
					noResultsElement.classList.remove('hidden');
				}
				
				// Show/hide the "All Games" section title depending on search results
				const allGamesTitle = Array.from(allSections).find(section => 
					section.textContent.trim().includes('All Games')
				);
				
				if (allGamesTitle) {
					allGamesTitle.style.display = 'flex'; // Always show "All Games" title
				}
				
				return anyResults || filteredAllGames.length > 0;
			}
			
			// Initialize particles.js
			particlesJS('particles-js', {
				particles: {
					number: {
						value: 86,
						density: {
							enable: true,
							value_area: 800
						}
					},
					color: {
						value: '#ffffff'
					},
					shape: {
						type: 'circle',
						stroke: {
							width: 0,
							color: '#000000'
						},
						polygon: {
							nb_sides: 5
						},
						image: {
							src: 'img/github.svg',
							width: 100,
							height: 100
						}
					},
					opacity: {
						value: 1,
						random: true,
						anim: {
							enable: false,
							speed: 1,
							opacity_min: 0.1,
							sync: false
						}
					},
					size: {
						value: 2,
						random: true,
						anim: {
							enable: false,
							speed: 40,
							size_min: 0.1,
							sync: false
						}
					},
					line_linked: {
						enable: false,
						distance: 150,
						color: '#ffffff',
						opacity: 0.4,
						width: 1
					},
					move: {
						enable: true,
						speed: 0.5,
						direction: 'top',
						random: false,
						straight: false,
						out_mode: 'out',
						bounce: false,
						attract: {
							enable: false,
							rotateX: 318.0130544358847,
							rotateY: 556.5228452627983
						}
					}
				},
				interactivity: {
					detect_on: 'window',
					events: {
						onhover: {
							enable: false,
							mode: 'repulse'
						},
						onclick: {
							enable: true,
							mode: 'push'
						},
						resize: true
					},
					modes: {
						grab: {
							distance: 400,
							line_linked: {
								opacity: 1
							}
						},
						bubble: {
							distance: 400,
							size: 40,
							duration: 2,
							opacity: 8,
							speed: 3
						},
						repulse: {
							distance: 200,
							duration: 0.4
						},
						push: {
							particles_nb: 10
						},
						remove: {
							particles_nb: 10
						}
					}
				},
				retina_detect: true
			});
			
			// Initialize the page
			document.addEventListener('DOMContentLoaded', () => {
				// Get games data
				const allGames = Object.values(gamesData).flat();
				
				// Get unique categories
				const categories = getUniqueCategories(allGames);
				
				// Create category sections (except "all" which already exists)
				categories.forEach(category => {
					if (category !== 'all') {
						const categoryGames = getGamesForCategory(allGames, category);
						if (categoryGames.length > 0) {
							createCategorySection(category, categoryGames);
						}
					}
				});
				
				// Initialize "All Games" section
				createGameCards(getAllUniqueGames(allGames), 'all-games');
				
				// Set up search functionality
				const searchInput = document.getElementById('search-games');
				const clearButton = document.getElementById('clear-search');
				
				// Search input event
				searchInput.addEventListener('input', () => {
					const searchText = searchInput.value.trim();
					
					// Show/hide clear button
					clearButton.classList.toggle('visible', searchText.length > 0);
					
					// Filter games
					filterGames(allGames, searchText);
				});
				
				// Clear search button
				clearButton.addEventListener('click', () => {
					searchInput.value = '';
					clearButton.classList.remove('visible');
					filterGames(allGames, '');
				});
				
				// Set up modal functionality
				const mobileModal = document.getElementById('mobile-warning-modal');
				const instructionsModal = document.getElementById('instructions-modal');
				
				// Close buttons for modals
				document.getElementById('close-mobile-modal').addEventListener('click', () => {
					hideModal('mobile-warning-modal');
				});
				
				document.getElementById('close-instructions-modal').addEventListener('click', () => {
					hideModal('instructions-modal');
				});
				
				// Buttons in modals
				document.getElementById('understand-mobile-button').addEventListener('click', () => {
					hideModal('mobile-warning-modal');
				});
				
				document.getElementById('got-it-button').addEventListener('click', () => {
					hideModal('instructions-modal');
				});
				
				// Close modals when clicking outside
				window.addEventListener('click', (e) => {
					if (e.target.classList.contains('modal-overlay')) {
						e.target.classList.remove('active');
					}
				});
				
				// Handle scroll to top button
				const scrollTop = document.querySelector('.scrolltop');
				scrollTop.addEventListener('click', () => {
					window.scrollTo({
						top: 0,
						behavior: 'smooth'
					});
				});
				
				// Show/hide scroll to top button
				window.addEventListener('scroll', () => {
					if (window.scrollY > 300) {
						scrollTop.style.display = 'flex';
					} else {
						scrollTop.style.display = 'none';
					}
				});
			});
		</script>
	</body>
</html>